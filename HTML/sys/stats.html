~inc:head.inc~</head>
<body>
<div class = 'frm'>
<script>PrintMenu();</script>
<div class = "mform">
<div class='stg'>
<div id = 'name'>
Статистика[~dname~]
</div>
<table>
<tr><td class='rl'>Ethernet:</td><td><span id='eth'>?</span></td></tr>
<tr><td class='rl'>WiFi:</td><td><span id='wfi'>?</span></td></tr>
<tr><td class='rl'>GPRS:</td><td><span id='gpr'>?</span></td></tr>
<tr><td class='rl'>LoRaWAN:</td><td><span id='lrw'>?</span></td></tr>
<tr><td height='20px'></td></tr>
<tr><td class='rl'>Основной адаптер:</td><td><span id='adp'>?</span></td></tr>
<tr><td height='20px'></td></tr>
<tr><td class='rl'>MQTT соединение 1:</td><td><span id='mq1'>?</span></td></tr>
<tr><td class='rl'>MQTT соединение 2:</td><td><span id='mq2'>?</span></td></tr>
<tr><td height='20px'></td></tr>
<tr><td class='rl'>Свободной памяти:</td><td><span id='mem'>?</span></td></tr>
<tr><td class='rl'>Минимум памяти:</td><td><span id='mmem'>?</span></td></tr>
</table>
</div>
</div>
</div>
</body>
<script>
function updateStatus(data) {
var dat = JSON.parse(data);
try
	{
	document.getElementById('eth').innerHTML= dat.ethstat;
	document.getElementById('wfi').innerHTML= dat.wfstat;
	document.getElementById('gpr').innerHTML= dat.gsmstat;
	document.getElementById('lrw').innerHTML= dat.lrstat;
	document.getElementById('adp').innerHTML= dat.defadp;
	document.getElementById('mq1').innerHTML= dat.mqtt1st;
	document.getElementById('mq2').innerHTML= dat.mqtt2st;
	document.getElementById('mem').innerHTML= dat.freeram;
	document.getElementById('mmem').innerHTML= dat.minram;
	}
catch(e){return;}
}
function ReadAndUpdate() {
GetDataFile("/stat.json", function(data){updateStatus(data);});
}
ReadAndUpdate();
setInterval("ReadAndUpdate()",1000);
</script>
</html>